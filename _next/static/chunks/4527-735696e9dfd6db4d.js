"use strict"; (self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[4527], { 2981: (e, n, t) => { t.d(n, { El: () => c, Hi: () => s, NL: () => o, kN: () => l, lc: () => d, sq: () => u }); let r = new Set, a = "checking"; function o(e) { if (a !== e) for (let n of (a = e, r)) n() } let i = new Set; function l(e) { for (let e of i) e() } let s = new Set, u = null; function c(e) { for (let n of (u = e, s)) n() } function d(e, n) { for (let e of s) e() } }, 10255: (e, n, t) => { function r(e) { let { moduleIds: n } = e; return null } Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "PreloadChunks", { enumerable: !0, get: function () { return r } }), t(95155), t(47650), t(85744), t(20589) }, 17828: (e, n, t) => { Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "workAsyncStorageInstance", { enumerable: !0, get: function () { return r } }); let r = (0, t(64054).createAsyncLocalStorage)() }, 18677: (e, n, t) => { t.d(n, { default: () => o }); var r = t(95155); let a = (0, t(55028).default)(() => t.e(6499).then(t.bind(t, 56499)), { loadableGenerated: { webpack: () => [require.resolveWeak("../_chunks-es/SanityLiveStream.js")] }, ssr: !1 }); function o(e) { return (0, r.jsx)(a, { ...e }) } }, 21767: (e, n, t) => { t.d(n, { J: () => a }); var r = t(12115); function a(e) { let n = (0, r.useRef)(null); return (0, r.useInsertionEffect)(() => { n.current = e }, [e]), (0, r.useCallback)((...e) => (0, n.current)(...e), []) } }, 34477: (e, n, t) => { Object.defineProperty(n, "__esModule", { value: !0 }), !function (e, n) { for (var t in n) Object.defineProperty(e, t, { enumerable: !0, get: n[t] }) }(n, { callServer: function () { return r.callServer }, createServerReference: function () { return o }, findSourceMapURL: function () { return a.findSourceMapURL } }); let r = t(53806), a = t(31818), o = t(34979).createServerReference }, 36645: (e, n, t) => { Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "default", { enumerable: !0, get: function () { return a } }); let r = t(88229)._(t(67357)); function a(e, n) { var t; let a = {}; "function" == typeof e && (a.loader = e); let o = { ...a, ...n }; return (0, r.default)({ ...o, modules: null == (t = o.loadableGenerated) ? void 0 : t.modules }) } ("function" == typeof n.default || "object" == typeof n.default && null !== n.default) && void 0 === n.default.__esModule && (Object.defineProperty(n.default, "__esModule", { value: !0 }), Object.assign(n.default, n), e.exports = n.default) }, 47978: (e, n, t) => { t.d(n, { default: () => i }); var r = t(95155), a = t(12115); let o = (0, a.lazy)(() => Promise.all([t.e(6654), t.e(6678), t.e(3977), t.e(2024), t.e(4407), t.e(9814), t.e(3489)]).then(t.bind(t, 29814))); function i(e) { return (0, r.jsx)(a.Suspense, { fallback: null, children: (0, r.jsx)(o, { ...e }) }) } }, 55028: (e, n, t) => { t.d(n, { default: () => a.a }); var r = t(36645), a = t.n(r) }, 62146: (e, n, t) => { function r(e) { let { reason: n, children: t } = e; return t } Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "BailoutToCSR", { enumerable: !0, get: function () { return r } }), t(45262) }, 64054: (e, n) => { Object.defineProperty(n, "__esModule", { value: !0 }), !function (e, n) { for (var t in n) Object.defineProperty(e, t, { enumerable: !0, get: n[t] }) }(n, { bindSnapshot: function () { return i }, createAsyncLocalStorage: function () { return o }, createSnapshot: function () { return l } }); let t = Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"), "__NEXT_ERROR_CODE", { value: "E504", enumerable: !1, configurable: !0 }); class r { disable() { throw t } getStore() { } run() { throw t } exit() { throw t } enterWith() { throw t } static bind(e) { return e } } let a = "undefined" != typeof globalThis && globalThis.AsyncLocalStorage; function o() { return a ? new a : new r } function i(e) { return a ? a.bind(e) : r.bind(e) } function l() { return a ? a.snapshot() : function (e, ...n) { return e(...n) } } }, 67192: (e, n, t) => { t.d(n, { Fk: () => c, jF: () => u, v$: () => d, vY: () => f }); var r = t(25356); let a = { "handshake/syn": r.Tx, "handshake/syn-ack": r.Rr, "handshake/ack": r.IM, "channel/response": r._K, "channel/heartbeat": r.vd, "channel/disconnect": r.FS, "overlay/focus": "visual-editing/focus", "overlay/navigate": "visual-editing/navigate", "overlay/toggle": "visual-editing/toggle", "presentation/toggleOverlay": "presentation/toggle-overlay" }, o = { [r.Tx]: "handshake/syn", [r.Rr]: "handshake/syn-ack", [r.IM]: "handshake/ack", [r._K]: "channel/response", [r.vd]: "channel/heartbeat", [r.FS]: "channel/disconnect", "visual-editing/focus": "overlay/focus", "visual-editing/navigate": "overlay/navigate", "visual-editing/toggle": "overlay/toggle", "presentation/toggle-overlay": "presentation/toggleOverlay" }, i = e => { let { data: n } = e; return n && "object" == typeof n && "domain" in n && "type" in n && "from" in n && "to" in n && ("sanity/channels" === n.domain && (n.domain = r.V2), "overlays" === n.to && (n.to = "visual-editing"), "overlays" === n.from && (n.from = "visual-editing"), n.channelId = n.connectionId, delete n.connectionId, n.type = a[n.type] ?? n.type), e }, l = e => { let { channelId: n, ...t } = e, a = { ...t, connectionId: n }; return a.domain === r.V2 && (a.domain = "sanity/channels"), "visual-editing" === a.to && (a.to = "overlays"), "visual-editing" === a.from && (a.from = "overlays"), a.type = o[a.type] ?? a.type, "channel/response" === a.type && a.responseTo && !a.data && (a.data = { responseTo: a.responseTo }), ("handshake/syn" === a.type || "handshake/syn-ack" === a.type || "handshake/ack" === a.type) && (a.data = { id: a.connectionId }), a }, s = ({ context: e }, n) => { let { sources: t, targetOrigin: r } = e, a = l(n.message); t.forEach(e => { e.postMessage(a, { targetOrigin: r }) }) }, u = () => ({ listen: (0, r.CC)(i), requestMachine: (0, r.tP)().provide({ actions: { "send message": s } }) }); function c() { return window.self !== window.top } function d() { return !!window.opener } function f() { return c() || d() } }, 67357: (e, n, t) => { Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "default", { enumerable: !0, get: function () { return s } }); let r = t(95155), a = t(12115), o = t(62146); function i(e) { return { default: e && "default" in e ? e.default : e } } t(10255); let l = { loader: () => Promise.resolve(i(() => null)), loading: null, ssr: !0 }, s = function (e) { let n = { ...l, ...e }, t = (0, a.lazy)(() => n.loader().then(i)), s = n.loading; function u(e) { let i = s ? (0, r.jsx)(s, { isLoading: !0, pastDelay: !0, error: null }) : null, l = !n.ssr || !!n.loading, u = l ? a.Suspense : a.Fragment, c = n.ssr ? (0, r.jsxs)(r.Fragment, { children: [null, (0, r.jsx)(t, { ...e })] }) : (0, r.jsx)(o.BailoutToCSR, { reason: "next/dynamic", children: (0, r.jsx)(t, { ...e }) }); return (0, r.jsx)(u, { ...l ? { fallback: i } : {}, children: c }) } return u.displayName = "LoadableComponent", u } }, 82546: (e, n, t) => { t.d(n, { default: () => b }); var r = t(95155), a = t(63296), o = t(83138), i = t(67192), l = t(55028), s = t(35695), u = t(12115), c = t(21767), d = t(2981); let f = (0, l.default)(() => t.e(8324).then(t.bind(t, 58324)), { loadableGenerated: { webpack: () => [require.resolveWeak("../_chunks-es/PresentationComlink.js")] }, ssr: !1 }), v = (0, l.default)(() => t.e(8513).then(t.bind(t, 58513)), { loadableGenerated: { webpack: () => [require.resolveWeak("../_chunks-es/RefreshOnMount.js")] }, ssr: !1 }), y = (0, l.default)(() => t.e(6376).then(t.bind(t, 26376)), { loadableGenerated: { webpack: () => [require.resolveWeak("../_chunks-es/RefreshOnFocus.js")] }, ssr: !1 }), g = (0, l.default)(() => t.e(2977).then(t.bind(t, 32977)), { loadableGenerated: { webpack: () => [require.resolveWeak("../_chunks-es/RefreshOnReconnect.js")] }, ssr: !1 }); function h(e) { var n; e instanceof a.u_ ? console.warn("Sanity Live is unable to connect to the Sanity API as the current origin - ".concat(window.origin, " - is not in the list of allowed CORS origins for this Sanity Project."), e.addOriginUrl && "Add it here:", null == (n = e.addOriginUrl) ? void 0 : n.toString()) : console.error(e) } function p(e, n) { n ? console.warn("Sanity Live connection closed, switching to long polling set to a interval of", n / 1e3, "seconds and the server gave this reason:", e.reason) : console.error("Sanity Live connection closed, automatic revalidation is disabled, the server gave this reason:", e.reason) } function b(e) { let { projectId: n, dataset: t, apiHost: l, apiVersion: b, useProjectHostname: k, token: m, requestTagPrefix: w, draftModeEnabled: j, draftModePerspective: S, refreshOnMount: _ = !1, refreshOnFocus: O = !j && (typeof window > "u" || window.self === window.top), refreshOnReconnect: P = !0, intervalOnGoAway: x = 3e4, requestTag: R = "next-loader.live", onError: L = h, onGoAway: M = p, revalidateSyncTags: E = o.Q } = e, T = (0, u.useMemo)(() => (0, a.UU)({ projectId: n, dataset: t, apiHost: l, apiVersion: b, useProjectHostname: k, ignoreBrowserTokenWarning: !0, token: m, useCdn: !1, requestTagPrefix: w }), [l, b, t, n, w, m, k]), [C, I] = (0, u.useState)(!1), N = (0, s.useRouter)(), A = (0, c.J)(e => { "message" === e.type ? E(e.tags) : "restart" === e.type || "reconnect" === e.type ? N.refresh() : "goaway" === e.type && (M(e, x), I(x)) }); (0, u.useEffect)(() => { let e = T.live.events({ includeDrafts: !!m, tag: R }).subscribe({ next: A, error: e => { L(e) } }); return () => e.unsubscribe() }, [T.live, L, R, m]), (0, u.useEffect)(() => { j && S ? (0, d.NL)(S) : (0, d.NL)("unknown") }, [j, S]); let [F, q] = (0, u.useState)(!1); (0, u.useEffect)(() => { if (!(0, i.vY)()) { if (j && m) return void (0, d.kN)("live"); if (j) return void (0, d.kN)("static"); (0, d.kN)("unknown") } }, [j, m]), (0, u.useEffect)(() => { if (!(0, i.vY)()) return; let e = new AbortController, n = setTimeout(() => (0, d.kN)("live"), 3e3); return window.addEventListener("message", t => { let { data: r } = t; r && "object" == typeof r && "domain" in r && "sanity/channels" === r.domain && "from" in r && "presentation" === r.from && (clearTimeout(n), (0, d.kN)((0, i.v$)() ? "presentation-window" : "presentation-iframe"), q(!0), e.abort()) }, { signal: e.signal }), () => { clearTimeout(n), e.abort() } }, []); let W = (0, u.useRef)(void 0); return (0, u.useEffect)(() => { if (j) return clearTimeout(W.current), () => { W.current = setTimeout(() => { console.warn("Sanity Live: Draft mode was enabled, but is now being disabled") }) } }, [j]), (0, u.useEffect)(() => { if (!C) return; let e = setInterval(() => N.refresh(), C); return () => clearInterval(e) }, [C, N]), (0, r.jsxs)(r.Fragment, { children: [j && F && (0, r.jsx)(f, { projectId: n, dataset: t, draftModeEnabled: j, draftModePerspective: S }), !j && _ && (0, r.jsx)(v, {}), !j && O && (0, r.jsx)(y, {}), !j && P && (0, r.jsx)(g, {})] }) } b.displayName = "SanityLive" }, 85744: (e, n, t) => { Object.defineProperty(n, "__esModule", { value: !0 }), Object.defineProperty(n, "workAsyncStorage", { enumerable: !0, get: function () { return r.workAsyncStorageInstance } }); let r = t(17828) } }]);